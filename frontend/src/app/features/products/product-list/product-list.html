<div class="container">

  <!-- HEADER -->
  <div class="header">
    <h1>Inventory Dashboard</h1>

    <button class="create-btn" (click)="goToCreate()">
      + Create Product
    </button>
  </div>

  <!-- CONTROLS -->
  <div class="controls">

    <input
      type="text"
      placeholder="Search products..."
      [(ngModel)]="searchTerm"
      (input)="onSearch()"
    >

    <select [(ngModel)]="selectedCategory" (change)="onFilterChange()">
      <option value="">All Categories</option>
      <option value="electronics">Electronics</option>
      <option value="tools">Tools</option>
      <option value="weapons">Weapons</option>
    </select>

    <select [(ngModel)]="sortOption" (change)="onFilterChange()">
      <option value="">Sort by</option>
      <option value="price_asc">Price ↑</option>
      <option value="price_desc">Price ↓</option>
    </select>

  </div>

  <!-- STATES -->

  <div *ngIf="loading" class="loading">
    Loading products...
  </div>

  <div *ngIf="error" class="error">
    {{ error }}
  </div>

  <div *ngIf="!loading && products.length === 0" class="empty">
    No products found.
  </div>

  <!-- TABLE -->

  <div *ngIf="!loading && products.length > 0" class="table-wrapper">

    <table>

      <thead>
        <tr>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody>

        <tr *ngFor="let product of products">

          <td>{{ product.name }}</td>
          <td>{{ product.description }}</td>
          <td>{{ product.price }}</td>
          <td>{{ product.quantity }}</td>
          <td>{{ product.category }}</td>

          <td>

            <div class="actions">

              <button
                class="edit-btn"
                (click)="editProduct(product._id!)"
              >
                Edit
              </button>

              <button
                class="delete-btn"
                (click)="deleteProduct(product._id!)"
              >
                Delete
              </button>

            </div>

          </td>

        </tr>

      </tbody>

    </table>

  </div>

</div>
